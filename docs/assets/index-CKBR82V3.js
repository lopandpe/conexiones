(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(e){if(e.ep)return;e.ep=!0;const i=t(e);fetch(e.href,i)}})();const n={1:{groupId:1,ids:["1","2","3","4"],texts:["Comisiones","Solidaridad","Uni칩n","Confederaci칩n"],color:"#579c1e",title:"Inicial de sindicato",emoji:"游릴"},2:{groupId:2,ids:["5","6","7","8"],texts:["Esponja","Coral","Crucero","Ola"],color:"#1e559c",title:"En el mar",emoji:"游릱"},3:{groupId:3,ids:["9","10","11","12"],texts:["Apat칤a","Cabeza","Entuerto","Parasol"],color:"#c230b6",title:"Comienzan con una preposici칩n",emoji:"游릵"},4:{groupId:4,ids:["13","14","15","16"],texts:["Crew","Asamblea","Colectivo","Pe침a"],color:"#ecde14",title:"Grupo de personas",emoji:"游릳"}};let f=[];y();function y(){let o=[];for(const[l,e]of Object.entries(n))for(let i=0;i<4;i++)o.push({id:e.ids[i],text:e.texts[i],order:i});S(o);let r=1,t=1;o.forEach(l=>{t==5&&(r++,t=1);let e=document.createElement("div");e.classList.add("cell"),e.classList.add("row-"+r),e.classList.add("col-"+t),e.innerText=l.text,e.setAttribute("data-id",l.id),e.setAttribute("data-order",l.order),document.getElementById("grid").appendChild(e),t++})}let L=document.querySelectorAll(".cell"),c=0,d=0,a=0,p=!1;document.querySelector("#open-modal").addEventListener("click",()=>{m()});document.querySelector("#close-modal").addEventListener("click",()=>{m()});L.forEach(o=>{o.addEventListener("click",function(){p||(this.classList.contains("active")?(this.classList.remove("active"),c--):c<4?(this.classList.add("active"),c++):u("Solo puedes seleccionar cuatro casillas"))})});let v=document.querySelector("#submit");v.addEventListener("click",function(){let o=[];if(c==4){let r=document.querySelectorAll(".cell.active"),t=null,l=0,e=!0;if(r.forEach(i=>{let s=i.getAttribute("data-id");t=x(s,n),o.push({id:s,text:i.innerText,emoji:t.emoji}),l==0?l=t.groupId:t&&t.groupId!=l&&(e=!1)}),f.push(o),e)g(t,a,0),a++,c=0;else{r.forEach(s=>{s.classList.add("error")}),setTimeout(()=>{r.forEach(s=>{s.classList.remove("error")})},1e3),d++;let i=document.querySelectorAll("#tries li:not(.explode)");i[i.length-1].classList.add("explode"),document.querySelector("#messages").innerHTML="Selecciona cuatro casillas, tienes <b>"+(4-d)+"</b> intentos."}(d>3||a==4)&&(u("Fin de la partida","warning",!0),setTimeout(()=>{E(a)},1e3),p=!0)}else u("Debes seleccionar cuatro casillas","warning")});function u(o,r="warning",t=!1){let l=document.querySelector("#messages"),e=l.innerText;l.innerText=o,l.classList=[r],t||setTimeout(()=>{l.innerText=e,l.classList=[]},2e3)}function E(o,r){document.querySelector("#actions").style.display="none",document.querySelector("#submit").style.pointerEvents="none";let t=1;for(const l in n){if(n.hasOwnProperty(l)){const e=n[l];g(e,o++,t*1e3)}t++}setTimeout(()=>{C()},(t+2)*1e3)}function x(o,r){const t=o.toString();for(const[l,e]of Object.entries(r))if(e.ids.includes(t))return e;return null}function S(o){for(var r=o.length-1;r>0;r--){var t=Math.floor(Math.random()*(r+1)),l=o[r];o[r]=o[t],o[t]=l}}function b(o,r){let t=document.createElement("div");t.classList.add("solution-line");let l=document.createElement("div");l.classList.add("title"),l.innerText=o.title;let e=document.createElement("ul");o.texts.forEach(i=>{let s=document.createElement("li");s.innerText=i,e.appendChild(s)}),t.appendChild(l),t.appendChild(e),t.style.top=r*85+"px",document.getElementById("grid").appendChild(t),t.style.backgroundColor=o.color,setTimeout(()=>{t.style.opacity=1},1)}function g(o,r,t){for(let l=0;l<o.ids.length;l++){let e=document.querySelector("[data-id='"+o.ids[l]+"']");e.classList.remove("active");let i=r+1,s=l+1,h=document.querySelector(".cell.row-"+i+".col-"+s);h.classList=e.classList,e.classList=["cell row-"+i+" col-"+s],e.classList.add("checked"),e.style.backgroundColor=o.color}setTimeout(()=>{b(o,r)},t),delete n[o.groupId]}function C(){let o="";f.forEach(l=>{let e=document.createElement("div");l.forEach(i=>{e.innerText+=i.emoji,o+=i.emoji}),o+="%0a",document.querySelector("#results").prepend(e)});var r=encodeURIComponent("https://lopandpe.github.io/conexiones/");let t="whatsapp://send?text=춰Vaya juegazo!%0a"+o+"%0aJuega aqu칤: "+r;document.querySelector("#whatsapp").setAttribute("href",t),document.querySelector("#open-modal").style.display="block",m()}function m(){document.querySelector("#modal").classList.toggle("active")}
