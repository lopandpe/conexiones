(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(e){if(e.ep)return;e.ep=!0;const c=o(e);fetch(e.href,c)}})();const L="20250702",i={1:{groupId:1,ids:["1","2","3","4"],texts:["Dosel","Militar","Docente","Se√≠smo"],color:"#579c1e",title:"Comienzan con n√∫meros",emoji:"üü©"},2:{groupId:2,ids:["5","6","7","8"],texts:["Bajo","Plomo","Mar","Grado"],color:"#1e559c",title:"Anteponiendo A- cambia el significado",emoji:"üü¶"},3:{groupId:3,ids:["9","10","11","12"],texts:["Tronco","T√≠o","Macho","Socio"],color:"#c230b6",title:"Sin√≥nimos de 'colega'",emoji:"üü™"},4:{groupId:4,ids:["13","14","15","16"],texts:["Marea","Extremo","Barricada","Platero"],color:"#ecde14",title:"Grupos de Rock",emoji:"üü®"}},k=L,y=`conexiones-${k}`,b="conexiones-stats",E=Object.assign({},{errorCount:0,statistic:[],todayResults:[],statsUpdated:!1,checks:0,final:!1,placedGroups:[]},JSON.parse(localStorage.getItem(y)||"{}"));let n=E;const v={totalDays:0,buckets:{0:0,1:0,2:0,3:0,fail:0},streak:0};let r=Object.assign({},v,JSON.parse(localStorage.getItem(b)||"{}"));function f(){localStorage.setItem(y,JSON.stringify(n))}function x(){localStorage.setItem(b,JSON.stringify(r))}let d=0;r.totalDays==0&&document.querySelector("#instructions").classList.toggle("active");document.querySelector("#open-modal").addEventListener("click",()=>{g("#modal")});document.querySelectorAll(".close-modal").forEach(t=>{t.addEventListener("click",()=>{const o=t.parentElement.parentElement.getAttribute("id");g(`#${o}`)})});T();setTimeout(()=>{q()},100);function T(){let t=[];for(const[l,e]of Object.entries(i))for(let c=0;c<4;c++)t.push({id:e.ids[c],text:e.texts[c],order:c});O(t);let s=1,o=1;t.forEach(l=>{o==5&&(s++,o=1);let e=document.createElement("div");e.classList.add("cell"),e.classList.add("row-"+s),e.classList.add("col-"+o),e.innerText=l.text,e.setAttribute("data-id",l.id),e.setAttribute("data-order",l.order),document.getElementById("grid").appendChild(e),o++})}function q(){n.final?(n.checks=0,setTimeout(()=>S(),100)):(n.placedGroups.forEach((t,s)=>{const o=i[t];o&&m(o,s,0)}),document.querySelector("#messages").innerHTML="Selecciona cuatro casillas, tienes <b>"+(4-n.errorCount)+"</b> intentos.")}let I=document.querySelectorAll(".cell");I.forEach(t=>{t.addEventListener("click",function(){n.final||(this.classList.contains("active")?(this.classList.remove("active"),d--):d<4?(this.classList.add("active"),d++):p("Solo puedes seleccionar cuatro casillas"))})});let C=document.querySelector("#submit");C.addEventListener("click",function(){let t=[];if(d==4){let s=document.querySelectorAll(".cell.active"),o=null,l=0,e=!0;if(s.forEach(c=>{let a=c.getAttribute("data-id");o=j(a,i),t.push({id:a,text:c.innerText,emoji:o.emoji}),l==0?l=o.groupId:o&&o.groupId!=l&&(e=!1)}),n.todayResults.push(t),e)m(o,n.checks,n.checks*500),n.placedGroups.push(l),n.checks++,n.checks=n.checks,d=0;else{s.forEach(a=>{a.classList.add("error")}),setTimeout(()=>{s.forEach(a=>{a.classList.remove("error")})},1e3),n.errorCount++;let c=document.querySelectorAll("#tries li:not(.explode)");c[c.length-1].classList.add("explode"),document.querySelector("#messages").innerHTML="Selecciona cuatro casillas, tienes <b>"+(4-n.errorCount)+"</b> intentos."}(n.errorCount>3||n.checks==4)&&(setTimeout(()=>{S(n.checks)},1e3),n.final=!0,n.final=!0,f())}else p("Debes seleccionar cuatro casillas","warning");f()});function p(t,s="warning",o=!1){let l=document.querySelector("#messages"),e=l.innerText;l.innerText=t,l.classList=[s],o||setTimeout(()=>{l.innerText=e,l.classList=[]},2e3)}function S(){p("Fin de la partida","warning",!0),document.querySelector("#actions").style.display="none",document.querySelector("#submit").style.pointerEvents="none";let t=1;for(const s in i){if(i.hasOwnProperty(s)){const o=i[s];m(o,n.checks++,t*1e3)}t++}n.statsUpdated||(M(),n.statsUpdated=!0,f()),setTimeout(()=>{w()},(t+2)*1e3)}function j(t,s){const o=t.toString();for(const[l,e]of Object.entries(s))if(e.ids.includes(o))return e;return null}function O(t){for(var s=t.length-1;s>0;s--){var o=Math.floor(Math.random()*(s+1)),l=t[s];t[s]=t[o],t[o]=l}}function A(t,s){let o=document.createElement("div");o.classList.add("solution-line");let l=document.createElement("div");l.classList.add("title"),l.innerText=t.title;let e=document.createElement("ul");t.texts.forEach(c=>{let a=document.createElement("li");a.innerText=c,e.appendChild(a)}),o.appendChild(l),o.appendChild(e),o.style.top=s*85+"px",document.getElementById("grid").appendChild(o),o.style.backgroundColor=t.color,setTimeout(()=>{o.style.opacity=1},1)}function m(t,s,o){console.log(t),console.log(s);for(let l=0;l<t.ids.length;l++){let e=document.querySelector("[data-id='"+t.ids[l]+"']");console.log(e),e.classList.remove("active");let c=s+1,a=l+1;console.log(".cell.row-"+c+".col-"+a);let u=document.querySelector(".cell.row-"+c+".col-"+a);u.classList=e.classList,e.classList=["cell row-"+c+" col-"+a],e.classList.add("checked"),e.style.backgroundColor=t.color}setTimeout(()=>{A(t,s)},o),delete i[t.groupId]}function w(){let t="";n.todayResults.forEach(a=>{let u=document.createElement("div");a.forEach(h=>{u.innerText+=h.emoji,t+=h.emoji}),t+="%0a",document.querySelector("#results").append(u)});var s=encodeURIComponent(location.href);let o="whatsapp://send?text=¬°Vaya juegazo!%0a"+t+"%0aJuega aqu√≠: "+s;document.querySelector("#whatsapp").setAttribute("href",o),document.querySelector("#open-modal").style.display="block";const l=document.querySelector("#fullstats"),e=a=>(a/r.totalDays*100).toFixed(1)+"%",c=`
        <h2>Estad√≠sticas hist√≥ricas</h2>
        <ul id="stats">
            <li><span>Sin fallos:</span> <span>${r.buckets[0]} (${e(r.buckets[0])})</span></li>
            <li><span>1 fallo:</span> <span>${r.buckets[1]} (${e(r.buckets[1])})</span></li>
            <li><span>2 fallos:</span> <span>${r.buckets[2]} (${e(r.buckets[2])})</span></li>
            <li><span>3 fallos:</span> <span>${r.buckets[3]} (${e(r.buckets[3])})</span></li>
            <li><span>No resuelto:</span> <span>${r.buckets.fail} (${e(r.buckets.fail)})</span></li>
        </ul>
        <p>Racha actual ganando: <b>${r.streak}</b> d√≠as</p>
    `;l.insertAdjacentHTML("beforeend",c),g("#modal")}function g(t){document.querySelector(t).classList.toggle("active")}function M(){r.totalDays++;const t=n.errorCount;t>=0&&t<=3?(r.buckets[t]++,r.streak++):(r.buckets.fail++,r.streak=0),x()}
